import{d as $,_ as U,A as q,B as x,C as w,D as K,E as G,F as _,G as D,I as H,J,K as S,S as Y,R as b,h as z,g as X}from"./app-96864be1.js";var he=function(s){$(n,s);function n(o,r){var t;return t=s.call(this)||this,t.client=o,t.options=r,t.trackedProps=[],t.selectError=null,t.bindMethods(),t.setOptions(r),t}var e=n.prototype;return e.bindMethods=function(){this.remove=this.remove.bind(this),this.refetch=this.refetch.bind(this)},e.onSubscribe=function(){this.listeners.length===1&&(this.currentQuery.addObserver(this),L(this.currentQuery,this.options)&&this.executeFetch(),this.updateTimers())},e.onUnsubscribe=function(){this.listeners.length||this.destroy()},e.shouldFetchOnReconnect=function(){return Q(this.currentQuery,this.options,this.options.refetchOnReconnect)},e.shouldFetchOnWindowFocus=function(){return Q(this.currentQuery,this.options,this.options.refetchOnWindowFocus)},e.destroy=function(){this.listeners=[],this.clearTimers(),this.currentQuery.removeObserver(this)},e.setOptions=function(r,t){var a=this.options,i=this.currentQuery;if(this.options=this.client.defaultQueryObserverOptions(r),typeof this.options.enabled<"u"&&typeof this.options.enabled!="boolean")throw new Error("Expected enabled to be a boolean");this.options.queryKey||(this.options.queryKey=a.queryKey),this.updateQuery();var c=this.hasListeners();c&&k(this.currentQuery,i,this.options,a)&&this.executeFetch(),this.updateResult(t),c&&(this.currentQuery!==i||this.options.enabled!==a.enabled||this.options.staleTime!==a.staleTime)&&this.updateStaleTimeout();var u=this.computeRefetchInterval();c&&(this.currentQuery!==i||this.options.enabled!==a.enabled||u!==this.currentRefetchInterval)&&this.updateRefetchInterval(u)},e.getOptimisticResult=function(r){var t=this.client.defaultQueryObserverOptions(r),a=this.client.getQueryCache().build(this.client,t);return this.createResult(a,t)},e.getCurrentResult=function(){return this.currentResult},e.trackResult=function(r,t){var a=this,i={},c=function(h){a.trackedProps.includes(h)||a.trackedProps.push(h)};return Object.keys(r).forEach(function(u){Object.defineProperty(i,u,{configurable:!1,enumerable:!0,get:function(){return c(u),r[u]}})}),(t.useErrorBoundary||t.suspense)&&c("error"),i},e.getNextResult=function(r){var t=this;return new Promise(function(a,i){var c=t.subscribe(function(u){u.isFetching||(c(),u.isError&&(r!=null&&r.throwOnError)?i(u.error):a(u))})})},e.getCurrentQuery=function(){return this.currentQuery},e.remove=function(){this.client.getQueryCache().remove(this.currentQuery)},e.refetch=function(r){return this.fetch(U({},r,{meta:{refetchPage:r==null?void 0:r.refetchPage}}))},e.fetchOptimistic=function(r){var t=this,a=this.client.defaultQueryObserverOptions(r),i=this.client.getQueryCache().build(this.client,a);return i.fetch().then(function(){return t.createResult(i,a)})},e.fetch=function(r){var t=this;return this.executeFetch(r).then(function(){return t.updateResult(),t.currentResult})},e.executeFetch=function(r){this.updateQuery();var t=this.currentQuery.fetch(this.options,r);return r!=null&&r.throwOnError||(t=t.catch(q)),t},e.updateStaleTimeout=function(){var r=this;if(this.clearStaleTimeout(),!(x||this.currentResult.isStale||!w(this.options.staleTime))){var t=K(this.currentResult.dataUpdatedAt,this.options.staleTime),a=t+1;this.staleTimeoutId=setTimeout(function(){r.currentResult.isStale||r.updateResult()},a)}},e.computeRefetchInterval=function(){var r;return typeof this.options.refetchInterval=="function"?this.options.refetchInterval(this.currentResult.data,this.currentQuery):(r=this.options.refetchInterval)!=null?r:!1},e.updateRefetchInterval=function(r){var t=this;this.clearRefetchInterval(),this.currentRefetchInterval=r,!(x||this.options.enabled===!1||!w(this.currentRefetchInterval)||this.currentRefetchInterval===0)&&(this.refetchIntervalId=setInterval(function(){(t.options.refetchIntervalInBackground||G.isFocused())&&t.executeFetch()},this.currentRefetchInterval))},e.updateTimers=function(){this.updateStaleTimeout(),this.updateRefetchInterval(this.computeRefetchInterval())},e.clearTimers=function(){this.clearStaleTimeout(),this.clearRefetchInterval()},e.clearStaleTimeout=function(){this.staleTimeoutId&&(clearTimeout(this.staleTimeoutId),this.staleTimeoutId=void 0)},e.clearRefetchInterval=function(){this.refetchIntervalId&&(clearInterval(this.refetchIntervalId),this.refetchIntervalId=void 0)},e.createResult=function(r,t){var a=this.currentQuery,i=this.options,c=this.currentResult,u=this.currentResultState,h=this.currentResultOptions,d=r!==a,v=d?r.state:this.currentQueryInitialState,R=d?this.currentResult:this.previousQueryResult,l=r.state,m=l.dataUpdatedAt,E=l.error,I=l.errorUpdatedAt,O=l.isFetching,f=l.status,C=!1,F=!1,p;if(t.optimisticResults){var P=this.hasListeners(),N=!P&&L(r,t),B=P&&k(r,a,t,i);(N||B)&&(O=!0,m||(f="loading"))}if(t.keepPreviousData&&!l.dataUpdateCount&&(R!=null&&R.isSuccess)&&f!=="error")p=R.data,m=R.dataUpdatedAt,f=R.status,C=!0;else if(t.select&&typeof l.data<"u")if(c&&l.data===(u==null?void 0:u.data)&&t.select===this.selectFn)p=this.selectResult;else try{this.selectFn=t.select,p=t.select(l.data),t.structuralSharing!==!1&&(p=_(c==null?void 0:c.data,p)),this.selectResult=p,this.selectError=null}catch(g){D().error(g),this.selectError=g}else p=l.data;if(typeof t.placeholderData<"u"&&typeof p>"u"&&(f==="loading"||f==="idle")){var y;if(c!=null&&c.isPlaceholderData&&t.placeholderData===(h==null?void 0:h.placeholderData))y=c.data;else if(y=typeof t.placeholderData=="function"?t.placeholderData():t.placeholderData,t.select&&typeof y<"u")try{y=t.select(y),t.structuralSharing!==!1&&(y=_(c==null?void 0:c.data,y)),this.selectError=null}catch(g){D().error(g),this.selectError=g}typeof y<"u"&&(f="success",p=y,F=!0)}this.selectError&&(E=this.selectError,p=this.selectResult,I=Date.now(),f="error");var W={status:f,isLoading:f==="loading",isSuccess:f==="success",isError:f==="error",isIdle:f==="idle",data:p,dataUpdatedAt:m,error:E,errorUpdatedAt:I,failureCount:l.fetchFailureCount,errorUpdateCount:l.errorUpdateCount,isFetched:l.dataUpdateCount>0||l.errorUpdateCount>0,isFetchedAfterMount:l.dataUpdateCount>v.dataUpdateCount||l.errorUpdateCount>v.errorUpdateCount,isFetching:O,isRefetching:O&&f!=="loading",isLoadingError:f==="error"&&l.dataUpdatedAt===0,isPlaceholderData:F,isPreviousData:C,isRefetchError:f==="error"&&l.dataUpdatedAt!==0,isStale:T(r,t),refetch:this.refetch,remove:this.remove};return W},e.shouldNotifyListeners=function(r,t){if(!t)return!0;var a=this.options,i=a.notifyOnChangeProps,c=a.notifyOnChangePropsExclusions;if(!i&&!c||i==="tracked"&&!this.trackedProps.length)return!0;var u=i==="tracked"?this.trackedProps:i;return Object.keys(r).some(function(h){var d=h,v=r[d]!==t[d],R=u==null?void 0:u.some(function(m){return m===h}),l=c==null?void 0:c.some(function(m){return m===h});return v&&!l&&(!u||R)})},e.updateResult=function(r){var t=this.currentResult;if(this.currentResult=this.createResult(this.currentQuery,this.options),this.currentResultState=this.currentQuery.state,this.currentResultOptions=this.options,!H(this.currentResult,t)){var a={cache:!0};(r==null?void 0:r.listeners)!==!1&&this.shouldNotifyListeners(this.currentResult,t)&&(a.listeners=!0),this.notify(U({},a,r))}},e.updateQuery=function(){var r=this.client.getQueryCache().build(this.client,this.options);if(r!==this.currentQuery){var t=this.currentQuery;this.currentQuery=r,this.currentQueryInitialState=r.state,this.previousQueryResult=this.currentResult,this.hasListeners()&&(t==null||t.removeObserver(this),r.addObserver(this))}},e.onQueryUpdate=function(r){var t={};r.type==="success"?t.onSuccess=!0:r.type==="error"&&!J(r.error)&&(t.onError=!0),this.updateResult(t),this.hasListeners()&&this.updateTimers()},e.notify=function(r){var t=this;S.batch(function(){r.onSuccess?(t.options.onSuccess==null||t.options.onSuccess(t.currentResult.data),t.options.onSettled==null||t.options.onSettled(t.currentResult.data,null)):r.onError&&(t.options.onError==null||t.options.onError(t.currentResult.error),t.options.onSettled==null||t.options.onSettled(void 0,t.currentResult.error)),r.listeners&&t.listeners.forEach(function(a){a(t.currentResult)}),r.cache&&t.client.getQueryCache().notify({query:t.currentQuery,type:"observerResultsUpdated"})})},n}(Y);function Z(s,n){return n.enabled!==!1&&!s.state.dataUpdatedAt&&!(s.state.status==="error"&&n.retryOnMount===!1)}function L(s,n){return Z(s,n)||s.state.dataUpdatedAt>0&&Q(s,n,n.refetchOnMount)}function Q(s,n,e){if(n.enabled!==!1){var o=typeof e=="function"?e(s):e;return o==="always"||o!==!1&&T(s,n)}return!1}function k(s,n,e,o){return e.enabled!==!1&&(s!==n||o.enabled===!1)&&(!e.suspense||s.state.status!=="error")&&T(s,e)}function T(s,n){return s.isStaleByTime(n.staleTime)}function V(){var s=!1;return{clearReset:function(){s=!1},reset:function(){s=!0},isReset:function(){return s}}}var ee=b.createContext(V()),te=function(){return b.useContext(ee)};function re(s,n,e){return typeof n=="function"?n.apply(void 0,e):typeof n=="boolean"?n:!!s}function fe(s,n){var e=b.useRef(!1),o=b.useState(0),r=o[1],t=z(),a=te(),i=t.defaultQueryObserverOptions(s);i.optimisticResults=!0,i.onError&&(i.onError=S.batchCalls(i.onError)),i.onSuccess&&(i.onSuccess=S.batchCalls(i.onSuccess)),i.onSettled&&(i.onSettled=S.batchCalls(i.onSettled)),i.suspense&&(typeof i.staleTime!="number"&&(i.staleTime=1e3),i.cacheTime===0&&(i.cacheTime=1)),(i.suspense||i.useErrorBoundary)&&(a.isReset()||(i.retryOnMount=!1));var c=b.useState(function(){return new n(t,i)}),u=c[0],h=u.getOptimisticResult(i);if(b.useEffect(function(){e.current=!0,a.clearReset();var d=u.subscribe(S.batchCalls(function(){e.current&&r(function(v){return v+1})}));return u.updateResult(),function(){e.current=!1,d()}},[a,u]),b.useEffect(function(){u.setOptions(i,{listeners:!1})},[i,u]),i.suspense&&h.isLoading)throw u.fetchOptimistic(i).then(function(d){var v=d.data;i.onSuccess==null||i.onSuccess(v),i.onSettled==null||i.onSettled(v,null)}).catch(function(d){a.clearReset(),i.onError==null||i.onError(d),i.onSettled==null||i.onSettled(void 0,d)});if(h.isError&&!a.isReset()&&!h.isFetching&&re(i.suspense,i.useErrorBoundary,[h.error,u.getCurrentQuery()]))throw h.error;return i.notifyOnChangeProps==="tracked"&&(h=u.trackResult(h,i)),h}const se="/build/assets/no-image-b9e79929.jpg",de=s=>{if(!s)return null;const n=new Date(s),e={day:"numeric",month:"short",year:"numeric"};return n.toLocaleDateString("en-US",e)},pe=(s,n)=>{const e=new Date(s),o=new Date(n),r={day:"numeric",month:"short",year:"numeric"};return`${e.toLocaleDateString("en-US",r)} - ${o.toLocaleDateString("en-US",r)}`},ve=s=>parseFloat(s).toFixed(2),ye=s=>s??se,ie=(s=[])=>s.reduce((n,e)=>{if(e!=null&&e.quantity&&(e!=null&&e.newQuantity)){if((e==null?void 0:e.newQuantity)>(e==null?void 0:e.quantity))return n+((e==null?void 0:e.newQuantity)-(e==null?void 0:e.quantity))*(e==null?void 0:e.price)}else if(e!=null&&e.newQuantity)return n+(e==null?void 0:e.newQuantity)*(e==null?void 0:e.price);return n},0),Re=(s=[])=>s.reduce((n,e)=>n+ie(e==null?void 0:e.extras),0);var A={exports:{}},ne="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",oe=ne,ae=oe;function j(){}function M(){}M.resetWarningCache=j;var ue=function(){function s(o,r,t,a,i,c){if(c!==ae){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}s.isRequired=s;function n(){return s}var e={array:s,bigint:s,bool:s,func:s,number:s,object:s,string:s,symbol:s,any:s,arrayOf:n,element:s,elementType:s,instanceOf:n,node:s,objectOf:n,oneOf:n,oneOfType:n,shape:n,exact:n,checkPropTypes:M,resetWarningCache:j};return e.PropTypes=e,e};A.exports=ue();var ce=A.exports;const me=X(ce);export{me as P,he as Q,pe as a,Re as b,ie as c,de as d,ve as f,fe as u,ye as v};
