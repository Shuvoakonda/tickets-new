var k=Object.defineProperty;var ee=(e,t,n)=>t in e?k(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var N=(e,t,n)=>(ee(e,typeof t!="symbol"?t+"":t,n),n);import{f as te,r as S,g as M,_ as q,h as I,i as re,k as $,l as A,t as se,m as ne,o as D,p as W,s as ie,q as oe,v as w,S as ae,w as H,x as le,y as ue,R as E,z as Y,A as ce,B as he,u as de,b as fe,j as v,C as pe,D as ve,a as me,H as ge}from"./app-1274654e.js";import{f as ye,v as be,a as Re}from"./utils-ed3e4056.js";var Q=globalThis&&globalThis.__assign||function(){return Q=Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++){t=arguments[n];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e},Q.apply(this,arguments)},Pe=globalThis&&globalThis.__rest||function(e,t){var n={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.indexOf(i)<0&&(n[i]=e[i]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,i=Object.getOwnPropertySymbols(e);r<i.length;r++)t.indexOf(i[r])<0&&Object.prototype.propertyIsEnumerable.call(e,i[r])&&(n[i[r]]=e[i[r]]);return n},Se=te("PulseLoader","0% {transform: scale(1); opacity: 1} 45% {transform: scale(0.1); opacity: 0.7} 80% {transform: scale(1); opacity: 1}","pulse");function Oe(e){var t=e.loading,n=t===void 0?!0:t,i=e.color,r=i===void 0?"#000000":i,s=e.speedMultiplier,a=s===void 0?1:s,o=e.cssOverride,u=o===void 0?{}:o,l=e.size,c=l===void 0?15:l,h=e.margin,p=h===void 0?2:h,m=Pe(e,["loading","color","speedMultiplier","cssOverride","size","margin"]),f=Q({display:"inherit"},u),g=function(b){return{backgroundColor:r,width:M(c),height:M(c),margin:M(p),borderRadius:"100%",display:"inline-block",animation:"".concat(Se," ").concat(.75/a,"s ").concat(b*.12/a,"s infinite cubic-bezier(0.2, 0.68, 0.18, 1.08)"),animationFillMode:"both"}};return n?S.createElement("span",Q({style:f},m),S.createElement("span",{style:g(1)}),S.createElement("span",{style:g(2)}),S.createElement("span",{style:g(3)})):null}var Ee=function(e){q(t,e);function t(i,r){var s;return s=e.call(this)||this,s.client=i,s.options=r,s.trackedProps=[],s.selectError=null,s.bindMethods(),s.setOptions(r),s}var n=t.prototype;return n.bindMethods=function(){this.remove=this.remove.bind(this),this.refetch=this.refetch.bind(this)},n.onSubscribe=function(){this.listeners.length===1&&(this.currentQuery.addObserver(this),z(this.currentQuery,this.options)&&this.executeFetch(),this.updateTimers())},n.onUnsubscribe=function(){this.listeners.length||this.destroy()},n.shouldFetchOnReconnect=function(){return _(this.currentQuery,this.options,this.options.refetchOnReconnect)},n.shouldFetchOnWindowFocus=function(){return _(this.currentQuery,this.options,this.options.refetchOnWindowFocus)},n.destroy=function(){this.listeners=[],this.clearTimers(),this.currentQuery.removeObserver(this)},n.setOptions=function(r,s){var a=this.options,o=this.currentQuery;if(this.options=this.client.defaultQueryObserverOptions(r),typeof this.options.enabled<"u"&&typeof this.options.enabled!="boolean")throw new Error("Expected enabled to be a boolean");this.options.queryKey||(this.options.queryKey=a.queryKey),this.updateQuery();var u=this.hasListeners();u&&B(this.currentQuery,o,this.options,a)&&this.executeFetch(),this.updateResult(s),u&&(this.currentQuery!==o||this.options.enabled!==a.enabled||this.options.staleTime!==a.staleTime)&&this.updateStaleTimeout();var l=this.computeRefetchInterval();u&&(this.currentQuery!==o||this.options.enabled!==a.enabled||l!==this.currentRefetchInterval)&&this.updateRefetchInterval(l)},n.getOptimisticResult=function(r){var s=this.client.defaultQueryObserverOptions(r),a=this.client.getQueryCache().build(this.client,s);return this.createResult(a,s)},n.getCurrentResult=function(){return this.currentResult},n.trackResult=function(r,s){var a=this,o={},u=function(c){a.trackedProps.includes(c)||a.trackedProps.push(c)};return Object.keys(r).forEach(function(l){Object.defineProperty(o,l,{configurable:!1,enumerable:!0,get:function(){return u(l),r[l]}})}),(s.useErrorBoundary||s.suspense)&&u("error"),o},n.getNextResult=function(r){var s=this;return new Promise(function(a,o){var u=s.subscribe(function(l){l.isFetching||(u(),l.isError&&(r!=null&&r.throwOnError)?o(l.error):a(l))})})},n.getCurrentQuery=function(){return this.currentQuery},n.remove=function(){this.client.getQueryCache().remove(this.currentQuery)},n.refetch=function(r){return this.fetch(I({},r,{meta:{refetchPage:r==null?void 0:r.refetchPage}}))},n.fetchOptimistic=function(r){var s=this,a=this.client.defaultQueryObserverOptions(r),o=this.client.getQueryCache().build(this.client,a);return o.fetch().then(function(){return s.createResult(o,a)})},n.fetch=function(r){var s=this;return this.executeFetch(r).then(function(){return s.updateResult(),s.currentResult})},n.executeFetch=function(r){this.updateQuery();var s=this.currentQuery.fetch(this.options,r);return r!=null&&r.throwOnError||(s=s.catch(re)),s},n.updateStaleTimeout=function(){var r=this;if(this.clearStaleTimeout(),!($||this.currentResult.isStale||!A(this.options.staleTime))){var s=se(this.currentResult.dataUpdatedAt,this.options.staleTime),a=s+1;this.staleTimeoutId=setTimeout(function(){r.currentResult.isStale||r.updateResult()},a)}},n.computeRefetchInterval=function(){var r;return typeof this.options.refetchInterval=="function"?this.options.refetchInterval(this.currentResult.data,this.currentQuery):(r=this.options.refetchInterval)!=null?r:!1},n.updateRefetchInterval=function(r){var s=this;this.clearRefetchInterval(),this.currentRefetchInterval=r,!($||this.options.enabled===!1||!A(this.currentRefetchInterval)||this.currentRefetchInterval===0)&&(this.refetchIntervalId=setInterval(function(){(s.options.refetchIntervalInBackground||ne.isFocused())&&s.executeFetch()},this.currentRefetchInterval))},n.updateTimers=function(){this.updateStaleTimeout(),this.updateRefetchInterval(this.computeRefetchInterval())},n.clearTimers=function(){this.clearStaleTimeout(),this.clearRefetchInterval()},n.clearStaleTimeout=function(){this.staleTimeoutId&&(clearTimeout(this.staleTimeoutId),this.staleTimeoutId=void 0)},n.clearRefetchInterval=function(){this.refetchIntervalId&&(clearInterval(this.refetchIntervalId),this.refetchIntervalId=void 0)},n.createResult=function(r,s){var a=this.currentQuery,o=this.options,u=this.currentResult,l=this.currentResultState,c=this.currentResultOptions,h=r!==a,p=h?r.state:this.currentQueryInitialState,m=h?this.currentResult:this.previousQueryResult,f=r.state,g=f.dataUpdatedAt,b=f.error,x=f.errorUpdatedAt,C=f.isFetching,d=f.status,O=!1,L=!1,R;if(s.optimisticResults){var U=this.hasListeners(),G=!U&&z(r,s),J=U&&B(r,a,s,o);(G||J)&&(C=!0,g||(d="loading"))}if(s.keepPreviousData&&!f.dataUpdateCount&&(m!=null&&m.isSuccess)&&d!=="error")R=m.data,g=m.dataUpdatedAt,d=m.status,O=!0;else if(s.select&&typeof f.data<"u")if(u&&f.data===(l==null?void 0:l.data)&&s.select===this.selectFn)R=this.selectResult;else try{this.selectFn=s.select,R=s.select(f.data),s.structuralSharing!==!1&&(R=D(u==null?void 0:u.data,R)),this.selectResult=R,this.selectError=null}catch(T){W().error(T),this.selectError=T}else R=f.data;if(typeof s.placeholderData<"u"&&typeof R>"u"&&(d==="loading"||d==="idle")){var P;if(u!=null&&u.isPlaceholderData&&s.placeholderData===(c==null?void 0:c.placeholderData))P=u.data;else if(P=typeof s.placeholderData=="function"?s.placeholderData():s.placeholderData,s.select&&typeof P<"u")try{P=s.select(P),s.structuralSharing!==!1&&(P=D(u==null?void 0:u.data,P)),this.selectError=null}catch(T){W().error(T),this.selectError=T}typeof P<"u"&&(d="success",R=P,L=!0)}this.selectError&&(b=this.selectError,R=this.selectResult,x=Date.now(),d="error");var Z={status:d,isLoading:d==="loading",isSuccess:d==="success",isError:d==="error",isIdle:d==="idle",data:R,dataUpdatedAt:g,error:b,errorUpdatedAt:x,failureCount:f.fetchFailureCount,errorUpdateCount:f.errorUpdateCount,isFetched:f.dataUpdateCount>0||f.errorUpdateCount>0,isFetchedAfterMount:f.dataUpdateCount>p.dataUpdateCount||f.errorUpdateCount>p.errorUpdateCount,isFetching:C,isRefetching:C&&d!=="loading",isLoadingError:d==="error"&&f.dataUpdatedAt===0,isPlaceholderData:L,isPreviousData:O,isRefetchError:d==="error"&&f.dataUpdatedAt!==0,isStale:F(r,s),refetch:this.refetch,remove:this.remove};return Z},n.shouldNotifyListeners=function(r,s){if(!s)return!0;var a=this.options,o=a.notifyOnChangeProps,u=a.notifyOnChangePropsExclusions;if(!o&&!u||o==="tracked"&&!this.trackedProps.length)return!0;var l=o==="tracked"?this.trackedProps:o;return Object.keys(r).some(function(c){var h=c,p=r[h]!==s[h],m=l==null?void 0:l.some(function(g){return g===c}),f=u==null?void 0:u.some(function(g){return g===c});return p&&!f&&(!l||m)})},n.updateResult=function(r){var s=this.currentResult;if(this.currentResult=this.createResult(this.currentQuery,this.options),this.currentResultState=this.currentQuery.state,this.currentResultOptions=this.options,!ie(this.currentResult,s)){var a={cache:!0};(r==null?void 0:r.listeners)!==!1&&this.shouldNotifyListeners(this.currentResult,s)&&(a.listeners=!0),this.notify(I({},a,r))}},n.updateQuery=function(){var r=this.client.getQueryCache().build(this.client,this.options);if(r!==this.currentQuery){var s=this.currentQuery;this.currentQuery=r,this.currentQueryInitialState=r.state,this.previousQueryResult=this.currentResult,this.hasListeners()&&(s==null||s.removeObserver(this),r.addObserver(this))}},n.onQueryUpdate=function(r){var s={};r.type==="success"?s.onSuccess=!0:r.type==="error"&&!oe(r.error)&&(s.onError=!0),this.updateResult(s),this.hasListeners()&&this.updateTimers()},n.notify=function(r){var s=this;w.batch(function(){r.onSuccess?(s.options.onSuccess==null||s.options.onSuccess(s.currentResult.data),s.options.onSettled==null||s.options.onSettled(s.currentResult.data,null)):r.onError&&(s.options.onError==null||s.options.onError(s.currentResult.error),s.options.onSettled==null||s.options.onSettled(void 0,s.currentResult.error)),r.listeners&&s.listeners.forEach(function(a){a(s.currentResult)}),r.cache&&s.client.getQueryCache().notify({query:s.currentQuery,type:"observerResultsUpdated"})})},t}(ae);function xe(e,t){return t.enabled!==!1&&!e.state.dataUpdatedAt&&!(e.state.status==="error"&&t.retryOnMount===!1)}function z(e,t){return xe(e,t)||e.state.dataUpdatedAt>0&&_(e,t,t.refetchOnMount)}function _(e,t,n){if(t.enabled!==!1){var i=typeof n=="function"?n(e):n;return i==="always"||i!==!1&&F(e,t)}return!1}function B(e,t,n,i){return n.enabled!==!1&&(e!==t||i.enabled===!1)&&(!n.suspense||e.state.status!=="error")&&F(e,n)}function F(e,t){return e.isStaleByTime(t.staleTime)}var Te=function(e){q(t,e);function t(i,r){return e.call(this,i,r)||this}var n=t.prototype;return n.bindMethods=function(){e.prototype.bindMethods.call(this),this.fetchNextPage=this.fetchNextPage.bind(this),this.fetchPreviousPage=this.fetchPreviousPage.bind(this)},n.setOptions=function(r,s){e.prototype.setOptions.call(this,I({},r,{behavior:H()}),s)},n.getOptimisticResult=function(r){return r.behavior=H(),e.prototype.getOptimisticResult.call(this,r)},n.fetchNextPage=function(r){var s;return this.fetch({cancelRefetch:(s=r==null?void 0:r.cancelRefetch)!=null?s:!0,throwOnError:r==null?void 0:r.throwOnError,meta:{fetchMore:{direction:"forward",pageParam:r==null?void 0:r.pageParam}}})},n.fetchPreviousPage=function(r){var s;return this.fetch({cancelRefetch:(s=r==null?void 0:r.cancelRefetch)!=null?s:!0,throwOnError:r==null?void 0:r.throwOnError,meta:{fetchMore:{direction:"backward",pageParam:r==null?void 0:r.pageParam}}})},n.createResult=function(r,s){var a,o,u,l,c,h,p=r.state,m=e.prototype.createResult.call(this,r,s);return I({},m,{fetchNextPage:this.fetchNextPage,fetchPreviousPage:this.fetchPreviousPage,hasNextPage:le(s,(a=p.data)==null?void 0:a.pages),hasPreviousPage:ue(s,(o=p.data)==null?void 0:o.pages),isFetchingNextPage:p.isFetching&&((u=p.fetchMeta)==null||(l=u.fetchMore)==null?void 0:l.direction)==="forward",isFetchingPreviousPage:p.isFetching&&((c=p.fetchMeta)==null||(h=c.fetchMore)==null?void 0:h.direction)==="backward"})},t}(Ee);function we(){var e=!1;return{clearReset:function(){e=!1},reset:function(){e=!0},isReset:function(){return e}}}var Ce=E.createContext(we()),Le=function(){return E.useContext(Ce)};function Ie(e,t,n){return typeof t=="function"?t.apply(void 0,n):typeof t=="boolean"?t:!!e}function Qe(e,t){var n=E.useRef(!1),i=E.useState(0),r=i[1],s=Y(),a=Le(),o=s.defaultQueryObserverOptions(e);o.optimisticResults=!0,o.onError&&(o.onError=w.batchCalls(o.onError)),o.onSuccess&&(o.onSuccess=w.batchCalls(o.onSuccess)),o.onSettled&&(o.onSettled=w.batchCalls(o.onSettled)),o.suspense&&(typeof o.staleTime!="number"&&(o.staleTime=1e3),o.cacheTime===0&&(o.cacheTime=1)),(o.suspense||o.useErrorBoundary)&&(a.isReset()||(o.retryOnMount=!1));var u=E.useState(function(){return new t(s,o)}),l=u[0],c=l.getOptimisticResult(o);if(E.useEffect(function(){n.current=!0,a.clearReset();var h=l.subscribe(w.batchCalls(function(){n.current&&r(function(p){return p+1})}));return l.updateResult(),function(){n.current=!1,h()}},[a,l]),E.useEffect(function(){l.setOptions(o,{listeners:!1})},[o,l]),o.suspense&&c.isLoading)throw l.fetchOptimistic(o).then(function(h){var p=h.data;o.onSuccess==null||o.onSuccess(p),o.onSettled==null||o.onSettled(p,null)}).catch(function(h){a.clearReset(),o.onError==null||o.onError(h),o.onSettled==null||o.onSettled(void 0,h)});if(c.isError&&!a.isReset()&&!c.isFetching&&Ie(o.suspense,o.useErrorBoundary,[c.error,l.getCurrentQuery()]))throw c.error;return o.notifyOnChangeProps==="tracked"&&(c=l.trackResult(c,o)),c}function Ne(e,t,n){var i=ce(e,t,n);return Qe(i,Te)}var K={exports:{}},Me="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",_e=Me,je=_e;function V(){}function X(){}X.resetWarningCache=V;var Fe=function(){function e(i,r,s,a,o,u){if(u!==je){var l=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw l.name="Invariant Violation",l}}e.isRequired=e;function t(){return e}var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:X,resetWarningCache:V};return n.PropTypes=n,n};K.exports=Fe();var Ue=K.exports;const y=he(Ue);class j extends S.Component{constructor(t){super(t),this.scrollListener=this.scrollListener.bind(this),this.eventListenerOptions=this.eventListenerOptions.bind(this),this.mousewheelListener=this.mousewheelListener.bind(this)}componentDidMount(){this.pageLoaded=this.props.pageStart,this.options=this.eventListenerOptions(),this.attachScrollListener()}componentDidUpdate(){if(this.props.isReverse&&this.loadMore){const t=this.getParentElement(this.scrollComponent);t.scrollTop=t.scrollHeight-this.beforeScrollHeight+this.beforeScrollTop,this.loadMore=!1}this.attachScrollListener()}componentWillUnmount(){this.detachScrollListener(),this.detachMousewheelListener()}isPassiveSupported(){let t=!1;const n={get passive(){t=!0}};try{document.addEventListener("test",null,n),document.removeEventListener("test",null,n)}catch{}return t}eventListenerOptions(){let t=this.props.useCapture;return this.isPassiveSupported()?t={useCapture:this.props.useCapture,passive:!0}:t={passive:!1},t}setDefaultLoader(t){this.defaultLoader=t}detachMousewheelListener(){let t=window;this.props.useWindow===!1&&(t=this.scrollComponent.parentNode),t.removeEventListener("mousewheel",this.mousewheelListener,this.options?this.options:this.props.useCapture)}detachScrollListener(){let t=window;this.props.useWindow===!1&&(t=this.getParentElement(this.scrollComponent)),t.removeEventListener("scroll",this.scrollListener,this.options?this.options:this.props.useCapture),t.removeEventListener("resize",this.scrollListener,this.options?this.options:this.props.useCapture)}getParentElement(t){const n=this.props.getScrollParent&&this.props.getScrollParent();return n??(t&&t.parentNode)}filterProps(t){return t}attachScrollListener(){const t=this.getParentElement(this.scrollComponent);if(!this.props.hasMore||!t)return;let n=window;this.props.useWindow===!1&&(n=t),n.addEventListener("mousewheel",this.mousewheelListener,this.options?this.options:this.props.useCapture),n.addEventListener("scroll",this.scrollListener,this.options?this.options:this.props.useCapture),n.addEventListener("resize",this.scrollListener,this.options?this.options:this.props.useCapture),this.props.initialLoad&&this.scrollListener()}mousewheelListener(t){t.deltaY===1&&!this.isPassiveSupported()&&t.preventDefault()}scrollListener(){const t=this.scrollComponent,n=window,i=this.getParentElement(t);let r;if(this.props.useWindow){const s=document.documentElement||document.body.parentNode||document.body,a=n.pageYOffset!==void 0?n.pageYOffset:s.scrollTop;this.props.isReverse?r=a:r=this.calculateOffset(t,a)}else this.props.isReverse?r=i.scrollTop:r=t.scrollHeight-i.scrollTop-i.clientHeight;r<Number(this.props.threshold)&&t&&t.offsetParent!==null&&(this.detachScrollListener(),this.beforeScrollHeight=i.scrollHeight,this.beforeScrollTop=i.scrollTop,typeof this.props.loadMore=="function"&&(this.props.loadMore(this.pageLoaded+=1),this.loadMore=!0))}calculateOffset(t,n){return t?this.calculateTopPosition(t)+(t.offsetHeight-n-window.innerHeight):0}calculateTopPosition(t){return t?t.offsetTop+this.calculateTopPosition(t.offsetParent):0}render(){const t=this.filterProps(this.props),{children:n,element:i,hasMore:r,initialLoad:s,isReverse:a,loader:o,loadMore:u,pageStart:l,ref:c,threshold:h,useCapture:p,useWindow:m,getScrollParent:f,...g}=t;g.ref=x=>{this.scrollComponent=x,c&&c(x)};const b=[n];return r&&(o?a?b.unshift(o):b.push(o):this.defaultLoader&&(a?b.unshift(this.defaultLoader):b.push(this.defaultLoader))),E.createElement(i,g,b)}}N(j,"propTypes",{children:y.node.isRequired,element:y.node,hasMore:y.bool,initialLoad:y.bool,isReverse:y.bool,loader:y.node,loadMore:y.func.isRequired,pageStart:y.number,ref:y.func,getScrollParent:y.func,threshold:y.number,useCapture:y.bool,useWindow:y.bool}),N(j,"defaultProps",{element:"div",hasMore:!1,initialLoad:!0,pageStart:0,ref:null,threshold:250,useWindow:!0,isReverse:!1,useCapture:!1,loader:null,getScrollParent:null});const $e=({ticket:e})=>{var o,u,l,c,h;const t=de(),n=p=>{p.stopPropagation(),t(pe(e))},{addItem:i,removeItem:r,inCart:s}=fe(),a=s(e==null?void 0:e.id);return v.jsx("div",{className:`ticket-item-container col-lg-2 col-md-3 col-sm-3 col-6 my-hover-effect g-3 ${a?"active":""}`,onClick:()=>i(e),children:v.jsxs("div",{className:"ticket-item-card",children:[a?v.jsx("button",{className:"delete-btn",onClick:()=>{r(e.id)},children:v.jsx("i",{className:"fa fa-times"})}):"",v.jsxs("div",{className:"custom-card",children:[v.jsx("span",{className:"ticket-item-badge",children:ye(e!=null&&e.sale_price?e==null?void 0:e.sale_price:e==null?void 0:e.price)}),v.jsxs("div",{className:"card-header position-relative",children:[v.jsx("img",{className:"ticket-item-img",src:be(e==null?void 0:e.image),alt:e.name}),((o=e==null?void 0:e.event)==null?void 0:o.name)&&v.jsx("span",{className:"ticket-item-unit",children:((u=e==null?void 0:e.event)==null?void 0:u.name.length)>15?`${e.event.name.substring(0,15)}...`:(l=e==null?void 0:e.event)==null?void 0:l.name})]}),v.jsxs("div",{className:"card-body ticket-item-body",children:[v.jsx("p",{title:e.name,className:"ticket-item-name",children:(e==null?void 0:e.name.length)>15?`${e.name.substring(0,15)}...`:e.name}),v.jsx("small",{className:"ticket-item-generic",children:((h=(c=e==null?void 0:e.event)==null?void 0:c.organizer)==null?void 0:h.length)>25?`${e.event.organizer.substring(0,25)}...`:e==null?void 0:e.event.organizer}),(e==null?void 0:e.start_date)&&(e==null?void 0:e.end_date)&&v.jsxs("small",{children:["(",Re(e.start_date,e.end_date),")"]}),v.jsx("button",{onClick:n,className:"btn btn-primary btn-sm position-absolute rounded-circle ticket-item-info-btn",children:v.jsx("i",{className:"fa fa-info"})})]})]})]})})},Ae=(e,t,n={},i={})=>{const{prefetch:r,pageSize:s=10,...a}=i,o=Y(),u=async({pageParam:d=1})=>(await ve.get(`${t}?page=${d}&per_page=5&query=${(n==null?void 0:n.query)??""}`,{headers:{"Content-Type":"application/json"}})).data,{data:l,isLoading:c,isError:h,isSuccess:p,error:m,hasNextPage:f,fetchNextPage:g,isFetching:b}=Ne(e,u,{...a,getNextPageParam:d=>{const O=d==null?void 0:d.current_page,L=d==null?void 0:d.last_page;return O<L?O+1:null}});return S.useEffect(()=>{var d;((d=m==null?void 0:m.response)==null?void 0:d.status)===401&&localStorage.setItem("authData",null)},[h,m]),{data:l,isLoading:c,isError:h,isSuccess:p,hasNextPage:f,isFetching:b,fetchNextPage:g,refetch:d=>{o.invalidateQueries(d||e)},setData:d=>{o.setQueryData(e,O=>d(O))}}};function ze(){var c;const e=me(h=>h.searchQuery.query),{data:t,isError:n,isLoading:i,isSuccess:r,isFetching:s,hasNextPage:a,fetchNextPage:o,refetch:u}=Ae(["tickets",e],"http://127.0.0.1:8000/api/tickets",{query:e}),l=S.useCallback(()=>{const h=document.documentElement.scrollTop;h<500&&h===0&&a&&!s&&o()},[o,a,s]);return S.useEffect(()=>(window.addEventListener("scroll",l),()=>{window.removeEventListener("scroll",l)}),[l]),v.jsx("div",{className:"overflow-y-scroll overflow-x-none pt-3",children:i?v.jsx("div",{style:{width:"100%",height:"100vh",display:"flex",justifyContent:"center",alignItems:"center"},children:v.jsx(ge,{color:"#36d7b7"})}):v.jsx(j,{loadMore:o,hasMore:a,loader:v.jsx("div",{style:{textAlign:"center",paddingTop:"25px"},children:v.jsx(Oe,{color:"#36d7b7"})}),useWindow:!1,style:{overflowY:"scroll",overflowX:"hidden",maxHeight:"90vh",padding:"20px 10px"},onScroll:l,children:v.jsx("div",{className:"row g-3",children:n?v.jsx("div",{style:{textAlign:"center",color:"red"},children:"Something went wrong"}):(c=t==null?void 0:t.pages)!=null&&c.length?t.pages.map((h,p)=>v.jsx(S.Fragment,{children:h.data.map((m,f)=>v.jsx($e,{ticket:m},f))},p)):v.jsx("div",{style:{textAlign:"center"},children:"No matching products found."})})})})}export{ze as default};
